<section id="wrapper">
  <div class="login-register" style="background-image:url(../assets/images/background/login-register.jpg);">
    <div class="login-box card">
      <div class="card-body">
        <form *ngIf="!hayToken && recoveryPasswordService.mostrarFormularios" [formGroup]="formulario" #ngForm="ngForm"
          (ngSubmit)="enviarCorreo()" class="form-horizontal form-material" id="loginform" action="index.html">
          <h3 class="box-title m-b-20">{{'RecoverPassword' | translate}}</h3>
          <p>{{'DescriptionRecoveryPassword' | translate}}</p>
          <div class="form-group m-t-40"
            [ngClass]="{'has-danger': erroresService.errores(formulario, 'email', ngForm).hayErrores}">
            <div class="col-xs-12">
              <input formControlName="email" name="email" class="form-control" type="email" required
                placeholder="{{'Email' | translate}}" autocomplete="off">
            </div>
            <div class="form-control-feedback" *ngIf="erroresService.errores(formulario, 'email', ngForm).hayErrores">
              <div *ngIf="erroresService.errores(formulario, 'email').errores?.required">
                {{'Required' | translate : { name: 'Email' | translate } }}</div>
              <div *ngIf="erroresService.errores(formulario, 'email').errores?.email">
                {{'Invalid' | translate : { name: 'Email' | translate } }}
              </div>
            </div>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-success waves-effect waves-light m-r-10">
              {{'Recovery' | translate}}</button>
            <span routerLink="/login" class="btn btn-inverse waves-effect waves-light">{{'Cancel' | translate}}</span>
          </div>
        </form>
        <form *ngIf="hayToken && recoveryPasswordService.mostrarFormularios" [formGroup]="formularioNuevoPassword"
          #ngForm="ngForm" (ngSubmit)="cambiarContrasenia()" class="form-horizontal form-material">
          <h3 class="box-title m-t-40 m-b-0">{{ 'RecoveryPassword' | translate}}</h3>
          <div class="form-group"
            [ngClass]="{'has-danger': erroresService.errores(formularioNuevoPassword, 'password', ngForm).hayErrores}">
            <div class="col-xs-12">
              <input formControlName="password" name="password" class="form-control" type="password" required
                placeholder="{{'Password' |translate}}" autocomplete="off">
            </div>
            <div class="form-control-feedback"
              *ngIf="erroresService.errores(formularioNuevoPassword, 'password', ngForm).hayErrores">
              <div *ngIf="erroresService.errores(formularioNuevoPassword, 'password').errores?.required">
                {{'Required' | translate : { name: 'Password' | translate } }}</div>
            </div>
          </div>
          <div class="form-group"
            [ngClass]="{'has-danger': erroresService.errores(formularioNuevoPassword, 'password2', ngForm).hayErrores}">
            <div class="col-xs-12">
              <input formControlName="password2" name="password2" class="form-control" type="password" required=""
                placeholder="{{'ConfirmPassword' |translate}}" autocomplete="off">
            </div>
            <div class="form-control-feedback"
              *ngIf="erroresService.errores(formularioNuevoPassword, 'password2', ngForm).hayErrores">
              <div *ngIf="erroresService.errores(formularioNuevoPassword, 'password2').errores?.required">
                {{'Required' | translate : { name: 'Password' | translate } }}</div>
            </div>
          </div>
          <div class="form-group"
            *ngIf="formularioNuevoPassword.errors?.sonIguales && !formularioNuevoPassword.pristine">
            <p class="text-danger">
              {{'PasswordsMustBeTheSame' | translate}}
            </p>
          </div>
          <div class="form-group text-center m-t-20">
            <div class="col-xs-12">
              <button class="btn btn-info btn-lg btn-block text-uppercase waves-effect waves-light"
                type="submit">{{'Recovery' |translate}}</button>
            </div>
          </div>
        </form>
        <div *ngIf="!recoveryPasswordService.mostrarFormularios">
          <h1>{{'GoodJob' | translate}}</h1>
          <p>{{'PasswordUpdateSuccess' | translate}}</p>
          <p><a routerLink="/login">{{'ClickHere' | translate}}</a> {{'LogInAgain' | translate}} </p>
        </div>

      </div>
    </div>
  </div>
</section>
